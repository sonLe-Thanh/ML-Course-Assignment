     The WRF model was developed as a collaborative partnership between       federally funded US agencies, principally NCAR, the National Oceanic and       Atmospheric Administration, US Air Force Weather Agency, Naval Research       Laboratory, and the Federal Aviation Authority.
It has a worldwide       community of 20,000 users in 130 countries, is used extensively for       research and real-time forecasting and is the most widely used Numeric       Weather Prediction model in the world.
Users include organisations engaged       in climate and weather research, as well as civil (government, industry)       and military organisations who use the model to inform operational       decisions.
Prominent users include US National Centers for Environmental       Protection, other forecasting centres (including the Korean Meteorological       Administration), the Japan Agency for Marine-Earth Science and Technology,       NASA, US Air Force Weather Agency, and US Army Research Laboratory.
Forecast accuracy and reliability is vital to users (and to the       communities and public they serve).
EHU's collaboration with SimCon has       shaped the way in which the model is developed and built in order to       improve the quality of the WRF model source code.
Impact will increase in       reach and significance as the enhancements and new procedures are       implemented with the development community and reflected in improvements       to output generated by and for the model's users.
The following impacts occurred as a result of findings in the       underpinning research between June 2011 (when research commenced) and 31       July 2013:     Impact 1: An enhanced FPT toolkit is now being integrated into the         development of new versions of the WRF model .
EHU and SimCon collaborated on the evaluation and analysis of the testing       output, identifying additional features which needed to be implemented       within the FPT toolkit to cater for updates to the Fortran coding       standards (between FORTRAN 77 and Fortran 90).
The EHU team also       demonstrated the value of integrating automated testing utilising relative       debugging techniques to assist in the identification of issues in       incremental releases of the WRF model.
This has resulted in a more       consistent output being generated by the WRF model irrespective of the       underlying hardware architecture or compilers used by the developers to       implement the model.
As a result the toolkit was updated by SimCon and       adopted by UCAR in July 2013.
UCAR are currently planning the roll-out of       an amended build procedure with the development community.
The initial beneficiaries of this impact are the software development       team at UCAR which implements and maintains the code base.
Outside the       assessment period impact will widen to benefit the wider WRF development       community, WRF users and those who rely on WRF model output.
Corroboration is provided by Factual Statement 1.
Impact 2: The WRF model's development lead has commissioned         changes to the software build procedure.
The underpinning research demonstrated that issues existed within the WRF       model code, that an automated approach to relative debugging would aid the       removal of such issues, and that the existing build procedure would not       support the automated instrumentation of the WRF model code.
Drawing on these research findings the development lead (at UCAR) for the       WRF model took the decision to commission changes to the build procedure       for the code base in the following ways:            The compilation of modules within the WRF model was initially         implemented in a hierarchical process &#8212; the EHU team demonstrated that         this resulted in an unwieldy build procedure.
As a result SimCon         developed a more linear build procedure that facilitates the integration         of automated testing       The implementation of the build procedure made use of pre-processing         to modify the source code to support the broad range of environments in         which the model has been migrated.
This decision was taken in Summer 2012 and the work to implement this       change is ongoing.
The decision was taken in order to provide the WRF       developer and user communities with new, more effective and more efficient       ways to identify and reduce/eliminate non-standard Fortran, reducing       exposure to model problems due to inconsistent treatments within the       source code.
Corroboration is provided by Factual Statement 1 and Factual Statement 2.
Impact 3: SimCon have improved their WinFPT toolkit and can deploy it         in other projects     Simcon Ltd is a British software products and consultancy company,       specialising in real-time simulation and scientific computing.
Its key       service areas are Fortran Analysis, Engineering and Migration; key       customers are Airbus, Boeing, DENEL OTR, QinetiQ and the US Navy.
Simcon       collaborated with Edge Hill on the WRF software validation project       described above.
The company deploys its WinFPT toolkit in their work on       the WRF model and in projects for other clients (particularly migration       and quality assurance).
In the course of the software validation project,       the research undertaken by Edge Hill enabled SimCon to make a number of       improvements to this toolkit.
The most important development was the addition of cpp pre-processor       support to the toolkit.
Programs such as the WRF use the cpp pre-processor       to adapt the code to different parallel computing environments.
Before       this project SimCon's WinFPT toolkit could analyse the WRF program after       pre-processing but could not re-engineer WRF because any changes made by       WinFPT would be overwritten by the pre-processor every time WRF was       rebuilt.
Errors could be found but could not be fixed, and because       correction could not be automated the correction rate was lower than is       now possible.
Collaborating with UCAR and SimCon, Anderson designed and implemented the       extended test suite and then undertook test runs of the WRF model,       identifying the relative difference in output generated by the model       between test runs and determining the significance of these differences.
As testing proceeded it was found that certain conditions were not being       correctly identified by the WinFPT toolkit as the WRF model utilised later       coding standards (Fortran 90).
Working with SimCon the relevant updates to       the standard were identified and the toolkit was then updated by SimCon to       support new language features.
The improvements made to WinFPT now allow permanent changes to be made in       the WRF code base.
Following incremental testing and analysis at EHU of       these updates, the addition of cpp pre-processor support was completed in       July 2013, making significant contributions to the validation of different       compliers for WRF.
As a result, the way in which errors in the WRF code       base are fixed, code is re-written, and the extent and implications of       changes made are identified has been changed.
The direct beneficiaries of       this impact are SimCon Ltd and WRF user and developer communities.
SimCon       are now able to use the enhanced toolkit in their migration and quality       assurance projects for other clients in the scientific and engineering       community where later versions of Fortran coding standard are in use.
For       example, it is now used in work with GE Oil &amp; Gas.
The improvements to       the WinFPT toolkit and their application/benefits are confirmed in Factual       Statement 2.
